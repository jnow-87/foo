#
# MCU
#
# {{{
choice
	prompt "Target MCU"
		
	config ATMEGA1284P
		bool "Atmega1284P"
		select ADDR_WIDTH_8
		select AVR_ISA_AVR51
		select AVR_ATMEGA

	config ATMEGA88PA
		bool "Atmega88PA"
		select ADDR_WIDTH_8
		select AVR_ISA_AVR4
		select AVR_ATMEGA
endchoice

menu "Hidden"
	visible if 0

	config AVR_MCU
		string "MCU"
		default "atmega1284p" if ATMEGA1284P
		default "atmega88pa" if ATMEGA88PA
		default "unknown MCU"

	config AVR_ISA_AVR4
		bool "AVR4"

	config AVR_ISA_AVR51
		bool "AVR51"

	config AVR_ISA
		string "ISA"
		default "avr4" if AVR_ISA_AVR4
		default "avr51" if AVR_ISA_AVR51

	config AVR_ATMEGA
		bool "Atmega MCU"
		default n

	config AVR_XMEGA
		bool "Xmega MCU"
		default n

	# architecture defining header
	config ARCH_HEADER
		string "Arch Header"
		default "<arch/$(CONFIG_ARCH)/atmega.h>" if AVR
endmenu
# }}}

#
# memory configuration
#
# {{{
menu "Memory configuration"
config KERNEL_TEXT_BASE
	hex "Kernel .text section base address"
	range 0x0 0x0fffffff
	default 0x0

config KERNEL_TEXT_SIZE
	int "Kernel .text section size"
	default 0

config KERNEL_DATA_BASE
	hex "Kernel .data section base address"
	range 0x0 0x0fffffff
	default 0x0

config KERNEL_DATA_SIZE
	int "Kernel .data section size"
	default 0

config APP_TEXT_BASE
	hex "Application .text section base address"
	range 0x0 0x0fffffff
	default 0x0

config APP_TEXT_SIZE
	int "Max. application .text section size"
	default 0

config APP_DATA_BASE
	hex "Application .data section base address"
	range 0x0 0x0fffffff
	default 0x0

config APP_DATA_SIZE
	int "Max. application .data section size"
	default 0

config MREG_BASE
	hex "Memory mapped register space base address"
	range 0x0 0x0fffffff
	default 0x0

config MREG_SIZE
	int "Memory mapped register space size"
	default 0
endmenu

# }}}

#
# scheduler
#
# {{{
config SCHED_INT
	string "Scheduler interrupt"
	default ""

choice
	prompt "Watchdog prescaler"

	config AVR_WATCHDOG_PRESCALE_2k
		bool "2k cycles"

	config AVR_WATCHDOG_PRESCALE_4k
		bool "4k cycles"

	config AVR_WATCHDOG_PRESCALE_8k
		bool "8k cycles"

	config AVR_WATCHDOG_PRESCALE_16k
		bool "16k cycles"

	config AVR_WATCHDOG_PRESCALE_32k
		bool "32k cycles"

	config AVR_WATCHDOG_PRESCALE_64k
		bool "64k cycles"

	config AVR_WATCHDOG_PRESCALE_128k
		bool "128k cycles"

	config AVR_WATCHDOG_PRESCALE_256k
		bool "256k cycles"

	config AVR_WATCHDOG_PRESCALE_512k
		bool "512k cycles"

	config AVR_WATCHDOG_PRESCALE_1M
		bool "1M cycles"
endchoice
# }}}

#
# sleep modes
#
# {{{
choice
	prompt "Sleep mode"

	config AVR_SLEEPMODE_IDLE
		bool "idle"

	config AVR_SLEEPMODE_ADCNR
		bool "adc noice reduction"

	config AVR_SLEEPMODE_PWRDWN
		bool "power down"

	config AVR_SLEEPMODE_PWRSAVE
		bool "power save"

	config AVR_SLEEPMODE_STANDBY
		bool "standby"

	config AVR_SLEEPMODE_EXTSTANDBY
		bool "extended standby"
endchoice
# }}}
